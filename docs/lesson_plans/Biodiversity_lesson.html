<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6-12 Data Science Resources - Biodiversity Lesson</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../files/figures/data-science-icon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles1.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">6-12 Data Science Resources</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lesson-plans" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Lesson Plans</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lesson-plans">    
        <li>
    <a class="dropdown-item" href="../lesson_plans/lesson_links.html">
 <span class="dropdown-text">R Files for Data Science Lessons</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/Salmon_lesson.html">
 <span class="dropdown-text">Salmon Return at Bonneville Dam</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/AQI_lessons/AQI_lesson.html">
 <span class="dropdown-text">Air Quality Lessons</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/Biodiversity_lesson.html">
 <span class="dropdown-text">Biodiversity Lesson</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/climate_lesson.html">
 <span class="dropdown-text">Climate Change Lesson</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/sea_levels_lesson.html">
 <span class="dropdown-text">Sea Levels Lesson</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/COR_lesson.html">
 <span class="dropdown-text">Gravity and Mass on Different Planets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lesson_plans/mini_lessons.html">
 <span class="dropdown-text">Mini intro to data science lessons</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-online-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Online Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-online-tutorials">    
        <li>
    <a class="dropdown-item" href="../tutorials/salmon_tutorial.html">
 <span class="dropdown-text">Salmon Crossing Data Tutorial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/climate_change_tutorial.html">
 <span class="dropdown-text">Climate Change Data Tutorial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/biodiversity_tutorial.html">
 <span class="dropdown-text">Biodiversity tutorial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/AQI_tutorial.html">
 <span class="dropdown-text">AQI Part 1 - Introduction to Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/AQI_tutorial_advanced.html">
 <span class="dropdown-text">AQI Part 2 - Custom Graphs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/sealevel_tutorial.html">
 <span class="dropdown-text">Sea Level tutorial</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="../resources/resources.html">
 <span class="dropdown-text">Other Resources</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../resources/cheatsheet.html">
 <span class="dropdown-text">Cheatsheet for Data in the Wild Tutorials</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lesson-overview" id="toc-lesson-overview" class="nav-link active" data-scroll-target="#lesson-overview">Lesson Overview</a></li>
  <li><a href="#lesson-materials" id="toc-lesson-materials" class="nav-link" data-scroll-target="#lesson-materials">Lesson Materials</a></li>
  <li><a href="#sec-broader-materials" id="toc-sec-broader-materials" class="nav-link" data-scroll-target="#sec-broader-materials">Broader Unit Materials</a>
  <ul class="collapse">
  <li><a href="#biodiversity-unit---ib-biology" id="toc-biodiversity-unit---ib-biology" class="nav-link" data-scroll-target="#biodiversity-unit---ib-biology">Biodiversity Unit - IB Biology</a></li>
  <li><a href="#sec-hippounit" id="toc-sec-hippounit" class="nav-link" data-scroll-target="#sec-hippounit">Biodiversity Unit with HIPPO framework</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Lewis-and-Clark-Data-Science/6-12-Data-Science-Resources/blob/main/lesson_plans/Biodiversity_lesson.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Biodiversity Lesson</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>



<div class="no-row-height column-margin column-container"><div class="">
<section id="grade-level-class-type" class="level3">
<h3 class="anchored" data-anchor-id="grade-level-class-type">Grade Level &amp; Class type</h3>
<ul>
<li>Appropriate for: 9th-12th grade</li>
<li>Subject: Intro Biology, Honors Biology, IB Biology</li>
<li>Number of students: 30 per class</li>
<li>Time: Single 90 minute lesson (also included are resources for a longer unit)</li>
</ul>
</section>
<section id="lesson-plan-and-tutorial" class="level3">
<h3 class="anchored" data-anchor-id="lesson-plan-and-tutorial">Lesson Plan and Tutorial</h3>
<ul>
<li><p><a href="https://docs.google.com/document/d/18A7jL6PxAJtWR246pzOt8rqpwKnKxpIoPs0NNtkx-T0/edit?usp=sharing" target="_blank">Biodiversity Lesson Plan - google doc</a></p></li>
<li><p><a href="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/tutorials/biodiversity_tutorial.html" target="_blank">Biodiversity Lesson Coding Tutorial</a></p></li>
</ul>
<p><br> <br></p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/files/figures/biodiversityimage1.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:95.0%" alt="AQI levels"></p>
</figure>
</div>
</section>
</div></div><section id="lesson-overview" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="lesson-overview">Lesson Overview</h2>
<p><strong>Lesson Title</strong>: Biodiversity</p>
<p><strong>Lesson Description:</strong></p>
<div class="column-screen-inset">
<div class="columns">
<div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/files/figures/index_terr_plant.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:95.0%" alt="Graph of biodiversity index of terrestrial plants"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/files/figures/number_terr_plant.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:95.0%" alt="Graph of number of terrestrial plants"></p>
</figure>
</div>
</div><div class="column" style="width:45%;">
<p>Long Term Ecological Research sites (LTERs). Students will look at long term biodiversity trends in groups. See example graphs at left. Students will be able to create the following graphs to analyze biodiversity:</p>
<ul>
<li>Temperate Coniferous Plant OR Invertebrates Total Species</li>
<li>Temperate Coniferous Plant OR Invertebrates Diversity Index</li>
<li>Tropical Plant OR Invertebrates Total Species</li>
<li>Tropical Plant OR Invertebrates Diversity Index</li>
</ul>
<p>THESE GRAPHS STILL IN PROGRESS:</p>
<ul>
<li>Temperate Deciduous Plant OR Invertebrates Total Species</li>
<li>Temperate Deciduous Plant OR Invertebrates Diversity Index</li>
<li>“All Ecosystem” Plant Total Species</li>
<li>“All Ecosystem” Plant Diversity Index</li>
</ul>
</div><div class="column" style="width:25%;">
<p><br></p>
</div>
</div>
</div>
<p><strong>Data Science in the Lesson</strong></p>
<p>An undergraduate student came into the classroom and helped teach the lesson. She introduced herself as a data science minor at Lewis and Clark and then went into what data science is. She talked about her experience with it through the classes she took and how she used data science so far in college. Students were able to run some code to look at graphs. We discussed trends after.</p>
<ul>
<li>Note: this lesson was originally taught with the assistance of undergraduate students who demonstrated coding. If you have not coded before and would like to incorporate basic data science/coding into your lesson, refer to the <a href="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/tutorials/biodiversity_tutorial.html">online biodiversity tutorial</a> for an easy walk-through you can use to demonstrate data science in your classroom!</li>
</ul>
<p><strong>Broader Unit Context</strong></p>
<p>This data science/coding lesson was integrated within a larger Biodiversity Unit - see materials for that unit <a href="#sec-broader-materials">below</a>. The students had already studied the meaning, levels, and status of biodiversity globally as well as ways that biodiversity is measured and conserved. We had implemented a series of data collection/field survey activities including recording data about the presence/absence of various types of tree species on our campus. This effort was then connected back to the BIOTIME dataset and the coding analysis.</p>
<p>Here are resources for teaching a lesson on biodiversity!</p>
<p><a href="https://docs.google.com/document/d/18A7jL6PxAJtWR246pzOt8rqpwKnKxpIoPs0NNtkx-T0/edit?usp=sharing" target="_blank">Lesson Plan google doc</a></p>
<p><a href="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/tutorials/biodiversity_tutorial.html#what-is-biodiversity" target="_blank">Biodiversity Coding Tutorial</a></p>
<p><a href="https://lewis-and-clark-data-science.github.io/6-12-Data-Science-Resources/files/lesson_code_zips/BiodiversityLessonCode.zip">Biodiversity Lesson Code .zip file</a></p>
<p>Plan for this lesson:</p>
<ul>
<li><p>Make lesson plan into a quarto doc</p></li>
<li><p>Add materials in as broader lesson materials options</p></li>
</ul>
</section>
<section id="lesson-materials" class="level2">
<h2 class="anchored" data-anchor-id="lesson-materials">Lesson Materials</h2>
</section>
<section id="sec-broader-materials" class="level2">
<h2 class="anchored" data-anchor-id="sec-broader-materials">Broader Unit Materials</h2>
<p>This lesson was taught by two different teachers and incorporated into slightly different broader units. We’ve included both teachers materials below, separated into each of their units.</p>
<section id="biodiversity-unit---ib-biology" class="level3">
<h3 class="anchored" data-anchor-id="biodiversity-unit---ib-biology">Biodiversity Unit - IB Biology</h3>
<ul>
<li><a href="https://docs.google.com/document/d/1qmtVrMQhG4XMadtgQ5mpko_jeBUxvfOaNZx-lK-pTHc/edit" data-traget="_blank">Biodiversity and Ecology Unit Plan</a></li>
</ul>
</section>
<section id="sec-hippounit" class="level3">
<h3 class="anchored" data-anchor-id="sec-hippounit">Biodiversity Unit with HIPPO framework</h3>
<ul>
<li><a href="https://docs.google.com/presentation/d/1MO2LFK69JWkD5spZVpHLYTGlibvRdHOxJmDshIZ8VIU/edit?usp=sharing" target="_blank">Slides: Biodiversity: Status, Value, and Threats</a>
<ul>
<li>Description: This is the slideshow I used to introduce the topic to the students. I presented these slides and the students took notes over several class periods. I designed the lecture around the HIPPO framework for Biodiversity loss that is detailed in the HHMI Biointeractive site I linked to below.</li>
</ul></li>
<li><a href="https://www.biointeractive.org/classroom-resources/designing-solutions-preserve-biodiversity" target="_blank">HHMI:Biointeractive</a>
<ul>
<li>Description: HHMI Biointeractive is one of the leading on-line resources for teaching biology at the high school level. I have found their materials to be extremely useful and interactive and they always generate a high level of student engagement.</li>
</ul></li>
<li>Tree Surveys: <a href="https://docs.google.com/document/d/1jHQEpJsg_wcV0SEoJ_j2UEKpGZKL3a9YvrB59GPFX7w/edit?usp=sharing" target="_blank">1,</a> <a href="https://docs.google.com/document/d/1yf0tV-um1tLWrv4FDgupjcoUqT7yL_E8j4-wy12o6yU/edit?usp=sharing" target="_blank">2,</a> <a href="https://docs.google.com/document/d/1jKz-RKn4c3CwdcYaiwAet5cl7IpMpi42wFtIYBsFA4M/edit?usp=sharing" target="_blank">3,</a> <a href="https://docs.google.com/document/d/1GdWyAJWyyj72cIOqW0t8X75sGUKyrTsDclYwgfu-v3Q/edit?usp=sharing" target="_blank">4,</a>
<ul>
<li>Description: As part of the Biodiversity Unit, I have my students collect data about different plants/trees on the campus including species name, size, height, crown spread, etc. We conduct multiple surveys so the students can see temporal changes to the plants/trees over time. I presented this work as kind of the front end/first step of the process of data analysis that ends with large scale analysis of trends that can be done with Coding.</li>
</ul></li>
<li><a href="https://biotime.st-andrews.ac.uk/aboutUs.php#:~:text=BioTIME%20is%20a%20comprehensive%20collection,they%20also%20include%20freshwater%20systems" target="_blank">BIOTIME website</a>
<ul>
<li>Description: This is the website that hosts the BIOTIME data. We evaluated the website together with the students the days before the data science lesson.</li>
</ul></li>
</ul>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/lewis-and-clark-data-science\.github\.io\/6-12-Data-Science-Resources\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Lewis-and-Clark-Data-Science/6-12-Data-Science-Resources/blob/main/lesson_plans/Biodiversity_lesson.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer></body></html>